class Mod{

   async static top(n){
      const x: Integer = await foo(n);
      println(x);
      return x;
   }

   async static foo(n){
      println(n);
      const x: Integer = await longTime().doubleValue();
      println(x);
      return x;
   }
   
   static longTime(){
      println(Thread.currentThread().getName());
      sleep(10000);
      return 12;
   }
}
println(Thread.currentThread().getName());
Mod.top(1)
   .then(x -> println("a="+x))
   .then(x -> println("b="+x))
   .then(x -> println("c="+x))
   .then(x -> println("d="+x))   
   .get();


