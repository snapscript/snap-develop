define(["require","exports","jquery"],function(t,m,q){(function(b){function m(a,d){var c;if(d&&0<d.length){var e=d[0].field,f=d[0].direction;c=[];for(var k={},b=0;b<a.length;b++){var l=a[b];if(l){var g=l[e].toLowerCase(),h=k[g];null==h&&(h=[],k[g]=h);h.push(l)}}e=[];for(g in k)k.hasOwnProperty(g)&&e.push(g);e.sort();"asc"!=f&&e.reverse();for(b=0;b<e.length;b++)for(g=e[b],h=k[g],f=0;f<h.length;f++)l=h[f],c.push(l)}else c=a;return c}function r(){return(new Date).getTime()}b.openDialog=function(a,d,
c,e){var f=r();a=window.open(a,d+f,"height\x3d"+e+",width\x3d"+c);void 0!=a&&a.focus&&(a.resizeTo(c,e),a.focus());return!1};b.extractParameter=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.href);return null==a?"":a[1]};b.decodeValue=function(a){if(0<a.length){var d=("@"+a).substring(2);if("\x3c"==a.charAt(0)){a=d.toString();for(var d="",c=0;c<a.length;c+=2)var e=a.substr(c,2),e=parseInt(e,16),d=d+String.fromCharCode(e)}return d}return null};
b.updateTableRecords=function(a,d){var c=w2ui[d];if(c){var e=q("#grid_"+d+"_records").prop("scrollTop"),f=c.records,b=c.sortData;if(a.length==f.length){for(var n=!1,l=0;l<a.length;l++){var g=f[l],h=a[l];if(!g||g.length!=h.length){n=!0;break}for(var p in g)if(g.hasOwnProperty(p)){if(!h.hasOwnProperty(p)){n=!0;break}if(g[p]!=h[p]){n=!0;break}}}n&&(c.records=m(a,b),c.refresh())}else c.records=m(a,b),c.refresh();a.length>f.length&&(c.reload(),q("#grid_"+d+"_records").prop("scrollTop",e))}};b.getElementsByClassName=
function(a,d){function c(a){for(var b=0;b<a.childNodes.length;b++)0<a.childNodes[b].childNodes.length&&c(a.childNodes[b]),a.childNodes[b].getAttribute&&a.childNodes[b].getAttribute("class")&&0<=a.childNodes[b].getAttribute("class").split(" ").indexOf(d)&&e.push(a.childNodes[b])}var e=[];c(a);return e};b.isChildElementVisible=function(a,b){var c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),f=c.top+c.height,k=d.top+a.clientHeight;return c.top>d.top&&f<k};b.calculateScrollOffset=function(a,
b){var c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),f=c.top,k=d.top;if(f<k)return f-k;c=c.top+c.height;d=d.top+a.clientHeight;return c>d?c-d:0};b.stringEndsWith=function(a,b){return a&&b&&a.length>=b.length?a.slice(-b.length)==b:!1};b.stringStartsWith=function(a,b){return a&&b&&a.length>=b.length?a.substring(0,b.length)===b:!1};b.isMacintosh=function(){return-1<navigator.platform.indexOf("Mac")};b.isWindows=function(){return-1<navigator.platform.indexOf("Win")};b.escapeHtml=function(a){return a.replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")};b.clearHtml=function(a){return a.replace(/<br>/g,"").replace(/&quot;/g,'"').replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/&nbsp;/g,"").replace(/&amp;/g,"\x26")};b.currentTime=r})(m.Common||(m.Common={}))});
