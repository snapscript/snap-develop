define("require exports w2ui common socket tree editor project".split(" "),function(t,g,u,h,n,p,f,q){(function(k){function g(){var d=h.Common.currentTime(),a={},e=0,b;for(b in c)if(c.hasOwnProperty(b)){var f=c[b];null!=f&&(f.time+1E5>d?a[b]=f:e++)}c=a;0<e&&l()}function l(){var d=[],a=1,e;for(e in c)if(c.hasOwnProperty(e)){var b=c[e];null!=b&&d.push({recid:a++,line:b.line,location:"Line "+b.line,resource:b.resource.filePath,description:b.message,project:b.project,script:b.resource.resourcePath})}h.Common.updateTableRecords(d,
"problems")&&q.Project.showProblemsTab()}function m(){var d=f.FileEditor.loadEditor().resource;if(null!=d){var a=[],e;for(e in c)if(c.hasOwnProperty(e))if(h.Common.stringStartsWith(e,d.resourcePath)){var b=c[e];null!=b?(f.FileEditor.clearEditorHighlights(),a.push(b.line)):f.FileEditor.clearEditorHighlights()}else console.log("Clear highlights in "+d),f.FileEditor.clearEditorHighlights();0<a.length&&f.FileEditor.createMultipleEditorHighlights(a,"problemHighlight")}}function r(d,a,e){a=JSON.parse(e);
d=p.FileTree.createResourcePath(a.resource);a={line:a.line,message:"\x3cdiv class\x3d'errorDescription'\x3e"+a.description+"\x3c/div\x3e",resource:d,project:a.project,time:a.time};if(0<=a.line)c[d.resourcePath+":"+a.line]=a;else for(var b in c)c.hasOwnProperty(b)&&h.Common.stringStartsWith(b,d.resourcePath)&&(c[b]=null);l();m()}var c={};k.registerProblems=function(){n.EventBus.createRoute("PROBLEM",r);setInterval(g,1E3)};k.showProblems=l;k.highlightProblems=m})(g.ProblemManager||(g.ProblemManager=
{}))});
