define("require exports w2ui common socket tree editor".split(" "),function(r,f,t,k,n,p,b){(function(g){function f(){var a=k.Common.currentTime(),c={},l=0,d;for(d in e)if(e.hasOwnProperty(d)){var b=e[d];null!=b&&(b.time+1E4>a?c[d]=b:l++)}e=c;0<l&&h()}function h(){var a=[],c=1,b;for(b in e)if(e.hasOwnProperty(b)){var d=e[b];null!=d&&a.push({recid:c++,line:d.line,location:"Line "+d.line,resource:d.resource.filePath,description:d.message,project:d.project,script:d.resource.resourcePath})}k.Common.updateTableRecords(a,
"problems")}function m(){var a=b.FileEditor.loadEditor().resource;null!=a&&(e.hasOwnProperty(a.resourcePath)?(a=e[a.resourcePath],null!=a?(b.FileEditor.clearEditorHighlights(),b.FileEditor.createEditorHighlight(a.line,"problemHighlight")):b.FileEditor.clearEditorHighlights()):(console.log("Clear highlights in "+a),b.FileEditor.clearEditorHighlights()))}function q(a,c,b){c=JSON.parse(b);a=p.FileTree.createResourcePath(c.resource);c={line:c.line,message:"\x3cdiv class\x3d'errorDescription'\x3e"+c.description+
"\x3c/div\x3e",resource:a,project:c.project,time:c.time};e[a.resourcePath]=0<=c.line?c:null;h();m()}var e={};g.registerProblems=function(){n.EventBus.createRoute("PROBLEM",q);setInterval(f,1E3)};g.showProblems=h;g.highlightProblems=m})(f.ProblemManager||(f.ProblemManager={}))});
