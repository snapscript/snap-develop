define("require exports jquery w2ui ./common ./socket ./editor ./profiler ./variables ./console ./threads status commands tree".split(" "),function(D,k,e,p,q,n,w,x,r,y,m,z,A,t){(function(l){function k(){var c=q.Common.currentTime(),a={},b=0,d;for(d in f)if(f.hasOwnProperty(d)){var g=f[d];null!=g&&(g.time+1E4>c?a[d]=g:b++)}f=a;0<b&&h();A.Command.pingProcess()}function u(c,a,b){null!=b&&(f[b]=null);d==b&&(m.ThreadManager.terminateThreads(),v());h()}function B(c,a,b){a=JSON.parse(b);c=a.process;b=""+
a.focus;f[c]={resource:a.resource,system:a.system,time:a.time,running:"true"==""+a.running,focus:b,project:a.project,memory:Math.round(a.usedMemory/a.totalMemory*100),threads:a.threads,debug:"true"==""+a.debug};"true"==b?(a=f[c],null!=a&&null!=a.resource?(t.FileTree.createResourcePath(a.resource),e("#toolbarDebug").css("opacity","1.0"),e("#toolbarDebug").css("filter","alpha(opacity\x3d100)"),console.log(a),z.StatusPanel.showProcessStatus(a.resource,c,a.debug)):(e("#toolbarDebug").css("opacity","0.4"),
e("#toolbarDebug").css("filter","alpha(opacity\x3d40)"),e("#process").html(""),w.FileEditor.clearEditorHighlights()),d!=c&&(x.Profiler.clearProfiler(),m.ThreadManager.clearThreads(),r.VariableManager.clearVariables()),y.ProcessConsole.updateConsoleFocus(c),d=c):d==c&&v();h()}function v(){d=null;m.ThreadManager.clearThreads();r.VariableManager.clearVariables();e("#toolbarDebug").css("opacity","0.4");e("#toolbarDebug").css("filter","alpha(opacity\x3d40)");e("#process").html("")}function C(){f={};d=
null;p.w2ui.debug.records=[];p.w2ui.debug.refresh()}function h(){var c=[],a=1,b;for(b in f)if(f.hasOwnProperty(b)){var e=f[b];if(null!=e){var g=e.project;if(g==document.title||null==g){var g="\x3cdiv class\x3d'debugIdleRecord'\x3e"+b+"\x3c/div\x3e",k="WAITING",l="\x26nbsp;\x3cinput type\x3d'radio'\x3e\x3clabel\x3e\x3c/label\x3e",h="",n=e.debug,m=!1;d==b&&(l="\x26nbsp;\x3cinput type\x3d'radio' checked\x3e\x3clabel\x3e\x3c/label\x3e");null!=e.resource&&(h=t.FileTree.createResourcePath(e.resource),d==
b&&n?(g="\x3cdiv class\x3d'debugFocusRecord'\x3e"+b+"\x3c/div\x3e",k="DEBUGGING"):(g="\x3cdiv class\x3d'debugRecord'\x3e"+b+"\x3c/div\x3e",k="RUNNING"),h=h.getResourcePath(),m=!0);c.push({recid:a++,name:g,active:l,process:b,status:k,running:m,system:e.system,resource:e.resource,focus:d==b,script:h})}else console.log("Ignoring process "+b+" as it belongs to "+g)}}q.Common.updateTableRecords(c,"debug")}var f={},d=null;l.createStatus=function(){n.EventBus.createRoute("STATUS",B,C);n.EventBus.createRoute("TERMINATE",
u,null);n.EventBus.createRoute("EXIT",u,null);setInterval(k,1E3)};l.isCurrentStatusFocusRunning=function(){if(d){var c=f[d];if(c)return null!=c.resource}return!1};l.currentStatusFocus=function(){return d};l.showStatus=h})(k.DebugManager||(k.DebugManager={}))});
