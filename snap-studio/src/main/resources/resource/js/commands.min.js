define("require exports jquery project alert socket console editor tree threads dialog explorer debug".split(" "),function(D,p,q,r,z,e,n,g,h,l,k,A,B){(function(b){function p(a,c){a&&1<a.length?q.ajax({url:"/type/"+document.title+"?expression\x3d"+a,success:function(f){var b=[],d;for(d in f)f.hasOwnProperty(d)&&b.push(d);b.sort();for(var e=[],t=0;t<b.length;t++)d=b[t],d=f[d],e.push({name:d.name,resource:d.resource,module:d.module,extra:d.extra,type:d.type,project:document.title});c(e,a)},async:!0}):
c([],a)}function v(a,c){c||(c="*.snap,*.properties,*.xml,*.txt,*.json");var f=k.DialogBuilder.createTextSearchOnlyDialog;a&&(f=k.DialogBuilder.createTextSearchAndReplaceDialog);f(function(a,c,f,b){w(a,c,f,function(a,c){for(var f=[],d=0;d<a.length;d++){var e=a[d],m=window.document.location.pathname;m.indexOf(";debug",m.length-6);m="/resource/"+e.project+"/"+e.resource;f.push([{text:e.resource,line:e.line,resource:m,style:"resourceNode"},{text:e.text,line:e.line,resource:m,style:"textNode"}])}return b(f,
c)})},c,a?"Replace Text":"Find Text")}function w(a,c,f,b){if(a&&1<a.length){var d;d="/find/"+document.title;d+="?expression\x3d"+encodeURIComponent(a);d+="\x26pattern\x3d"+encodeURIComponent(c);d+="\x26caseSensitive\x3d"+encodeURIComponent(f.caseSensitive);d+="\x26regularExpression\x3d"+encodeURIComponent(f.regularExpression);d+="\x26wholeWord\x3d"+encodeURIComponent(f.wholeWord);d+="\x26replace\x3d"+encodeURIComponent(f.replace);d+="\x26enableReplace\x3d"+encodeURIComponent(f.enableReplace);q.ajax({url:d,
success:function(c){for(var f=[],d=0;d<c.length;d++)f.push(c[d]);b(f,a)},async:!0})}else b([],a)}function C(a,c){a&&1<a.length?q.ajax({url:"/file/"+document.title+"?expression\x3d"+a,success:function(f){for(var b=[],d=0;d<f.length;d++)b.push(f[d]);c(b,a)},async:!0}):c([],a)}function x(a,c){var f=g.FileEditor.loadEditor();null==f.resource?k.DialogBuilder.openTreeDialog(null,!1,function(f){u(c);a()}):g.FileEditor.isEditorChanged()?k.DialogBuilder.openTreeDialog(f.resource,!0,function(f){u(c);a()}):
(n.ProcessConsole.clearConsole(),a())}function u(a){var c=g.FileEditor.loadEditor(),f=c.resource;if(null!=f){var b={project:document.title,resource:f.filePath,source:c.source,directory:!1,create:!1};n.ProcessConsole.clearConsole();e.EventBus.sendEvent("SAVE",b);a&&g.FileEditor.updateEditor(c.source,f.projectPath)}}function y(a){x(function(){var c=g.FileEditor.loadEditor();e.EventBus.sendEvent("EXECUTE",{breakpoints:c.breakpoints,project:document.title,resource:c.resource.filePath,source:c.source,
debug:a?!0:!1})},!0)}b.searchTypes=function(){k.DialogBuilder.createListDialog(function(a,c,f){p(a,function(a,c){for(var b=[],d=0;d<a.length;d++){var e=window.document.location.pathname,e=-1!==e.indexOf(";debug",e.length-6),g="/project/"+a[d].project,m="\x3ci style\x3d'opacity: 0.5'\x3e"+a[d].module+"\x3ci\x3e",h="";a[d].extra&&(h="\x3ci style\x3d'opacity: 0.5'\x3e"+a[d].extra+"\x3ci\x3e");e&&(g+=";debug");g+="#"+a[d].resource;b.push([{text:a[d].name+"\x26nbsp;\x26nbsp;"+m,link:g,style:"module"==
a[d].type?"moduleNode":"typeNode"},{text:a[d].resource+"\x26nbsp;\x26nbsp;"+h,link:g,style:"resourceNode"}])}f(b,c)})},null,"Search Types")};b.replaceTokenInFiles=function(a,c,f){w(a,f,c,function(a){for(var c=g.FileEditor.loadEditor(),f=0;f<a.length;f++){var b=a[f],b=h.FileTree.createResourcePath("/resource/"+b.project+"/"+b.resource);c.resource.resourcePath==b.resourcePath&&A.FileExplorer.openTreeFile(b.resourcePath,function(){})}})};b.searchFiles=function(a){v(!1,a)};b.searchAndReplaceFiles=function(a){v(!0,
a)};b.findFileNames=function(){k.DialogBuilder.createListDialog(function(a,c,f){C(a,function(a,c){for(var b=[],d=0;d<a.length;d++){var e=a[d],g=window.document.location.pathname,g=-1!==g.indexOf(";debug",g.length-6),h="/project/"+e.project;g&&(h+=";debug");h+="#"+e.resource;b.push([{text:e.text,name:e.name,link:h,style:"resourceNode"}])}return f(b,c)})},null,"Find Files")};b.openTerminal=function(a){h.FileTree.isResourceFolder(a.filePath)&&e.EventBus.sendEvent("EXPLORE",{project:document.title,resource:a.filePath,
terminal:!0})};b.exploreDirectory=function(a){h.FileTree.isResourceFolder(a.filePath)&&e.EventBus.sendEvent("EXPLORE",{project:document.title,resource:a.filePath,terminal:!1})};b.folderExpand=function(a){e.EventBus.sendEvent("FOLDER_EXPAND",{project:document.title,folder:a})};b.folderCollapse=function(a){e.EventBus.sendEvent("FOLDER_COLLAPSE",{project:document.title,folder:a})};b.pingProcess=function(){e.EventBus.isSocketOpen()&&e.EventBus.sendEvent("PING",document.title)};b.uploadFileTo=function(a,
c,b){c=h.FileTree.createResourcePath(c);c=h.FileTree.cleanResourcePath(c.filePath+"/"+a);console.log("source: "+a+" destination: "+c);e.EventBus.sendEvent("UPLOAD",{project:document.title,name:a,to:c,data:b,dragAndDrop:!0})};b.isDragAndDropFilePossible=function(a,c){return!0};b.dragAndDropFile=function(a,c){var b=h.FileTree.createResourcePath(a.resource),g=h.FileTree.createResourcePath(c.resource),d=h.FileTree.cleanResourcePath(b.filePath),b=h.FileTree.cleanResourcePath(g.filePath+"/"+b.fileName);
console.log("source: "+d+" destination: "+b);e.EventBus.sendEvent("RENAME",{project:document.title,from:d,to:b,dragAndDrop:!0});r.Project.renameEditorTab(d,b)};b.renameFile=function(a){var c=a.filePath;k.DialogBuilder.renameFileTreeDialog(a,!0,function(b){e.EventBus.sendEvent("RENAME",{project:document.title,from:c,to:b.filePath,dragAndDrop:!1});r.Project.renameEditorTab(a.resourcePath,b.resourcePath)})};b.renameDirectory=function(a){var c=a.filePath;a=h.FileTree.createResourcePath(c+".#");k.DialogBuilder.renameDirectoryTreeDialog(a,
!0,function(a){e.EventBus.sendEvent("RENAME",{project:document.title,from:c,to:a.filePath})})};b.newFile=function(a){k.DialogBuilder.newFileTreeDialog(a,!0,function(a){if(!h.FileTree.isResourceFolder(a.filePath)){var b={project:document.title,resource:a.filePath,source:"",directory:!1,create:!0};n.ProcessConsole.clearConsole();e.EventBus.sendEvent("SAVE",b);g.FileEditor.updateEditor("",a.projectPath)}})};b.newDirectory=function(a){k.DialogBuilder.newDirectoryTreeDialog(a,!0,function(a){h.FileTree.isResourceFolder(a.filePath)&&
(a={project:document.title,resource:a.filePath,source:"",directory:!0,create:!0},n.ProcessConsole.clearConsole(),e.EventBus.sendEvent("SAVE",a))})};b.saveFile=function(){x(function(){},!0)};b.saveEditor=u;b.deleteFile=function(a){var b=g.FileEditor.loadEditor();null==a&&null!=b.resource&&(a=b.resource);null!=a&&(b=g.FileEditor.loadEditor(),z.Alerts.createConfirmAlert("Delete File","Delete resource "+b.resource.filePath,"Delete","Cancel",function(){var c={project:document.title,resource:a.filePath};
n.ProcessConsole.clearConsole();e.EventBus.sendEvent("DELETE",c);null!=b.resource&&b.resource.resourcePath==a.resourcePath&&g.FileEditor.resetEditor();r.Project.deleteEditorTab(a.resourcePath)},function(){}))};b.deleteDirectory=function(a){null!=a&&(a={project:document.title,resource:a.filePath},n.ProcessConsole.clearConsole(),e.EventBus.sendEvent("DELETE",a))};b.runScript=function(){y(!1)};b.debugScript=function(){y(!0)};b.updateScriptBreakpoints=function(){var a={breakpoints:g.FileEditor.loadEditor().breakpoints,
project:document.title};e.EventBus.sendEvent("BREAKPOINTS",a)};b.stepOverScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"STEP_OVER"},g.FileEditor.clearEditorHighlights(),e.EventBus.sendEvent("STEP",a))};b.stepInScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"STEP_IN"},g.FileEditor.clearEditorHighlights(),e.EventBus.sendEvent("STEP",a))};b.stepOutScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a=
{thread:a.thread,type:"STEP_OUT"},g.FileEditor.clearEditorHighlights(),e.EventBus.sendEvent("STEP",a))};b.resumeScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"RUN"},g.FileEditor.clearEditorHighlights(),e.EventBus.sendEvent("STEP",a))};b.stopScript=function(){e.EventBus.sendEvent("STOP")};b.browseScriptVariables=function(a){var b=l.ThreadManager.focusedThread();null!=b&&e.EventBus.sendEvent("BROWSE",{thread:b.thread,expand:a})};b.browseScriptEvaluation=function(a,
b,f){var c=l.ThreadManager.focusedThread();null!=c&&e.EventBus.sendEvent("EVALUATE",{thread:c.thread,expression:b,expand:a,refresh:f})};b.attachProcess=function(a){var b=B.DebugManager.currentStatusFocus(),f=g.FileEditor.loadEditor();e.EventBus.sendEvent("ATTACH",{process:a,breakpoints:f.breakpoints,project:document.title,focus:b!=a})};b.switchLayout=function(){var a=window.document.location.pathname,b=window.document.location.hash;-1!==a.indexOf(";debug",a.length-6)?(a=a.substring(0,a.length-6),
document.location=a+b):document.location=a+";debug"+b};b.updateDisplay=function(a){e.EventBus.isSocketOpen()&&e.EventBus.sendEvent("DISPLAY_UPDATE",a)};b.evaluateExpression=function(){if(null!=l.ThreadManager.focusedThread()){var a=g.FileEditor.getSelectedText();k.DialogBuilder.evaluateExpressionDialog(a)}};b.refreshScreen=function(){setTimeout(function(){location.reload()},10)};b.switchProject=function(){document.location="/"}})(p.Command||(p.Command={}))});
