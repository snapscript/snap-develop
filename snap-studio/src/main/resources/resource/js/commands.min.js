define("require exports jquery common project alert socket console editor tree threads dialog explorer debug".split(" "),function(D,p,q,u,r,z,c,n,g,h,l,k,A,B){(function(b){function p(a,d){a&&1<a.length?q.ajax({url:"/type/"+document.title+"?expression\x3d"+a,success:function(e){var f=[],b;for(b in e)e.hasOwnProperty(b)&&f.push(b);f.sort();for(var c=[],m=0;m<f.length;m++)b=f[m],b=e[b],c.push({name:b.name,resource:b.resource,module:b.module,extra:b.extra,type:b.type,project:document.title});d(c,a)},
async:!0}):d([],a)}function v(a,d){d||(d="*.snap,*.properties,*.xml,*.txt,*.json");var e=k.DialogBuilder.createTextSearchOnlyDialog;a&&(e=k.DialogBuilder.createTextSearchAndReplaceDialog);e(function(a,d,e,b){w(a,d,e,function(a,d){for(var e=[],f=0;f<a.length;f++){var m=a[f],c=window.document.location.pathname;c.indexOf(";debug",c.length-6);c="/resource/"+m.project+"/"+m.resource;e.push([{text:m.resource,line:m.line,resource:c,style:"resourceNode"},{text:m.text,line:m.line,resource:c,style:"textNode"}])}return b(e,
d)})},d,a?"Replace Text":"Find Text")}function w(a,d,e,b){if(a&&1<a.length){var f;f="/find/"+document.title;f+="?expression\x3d"+encodeURIComponent(a);f+="\x26pattern\x3d"+encodeURIComponent(d);f+="\x26caseSensitive\x3d"+encodeURIComponent(e.caseSensitive);f+="\x26regularExpression\x3d"+encodeURIComponent(e.regularExpression);f+="\x26wholeWord\x3d"+encodeURIComponent(e.wholeWord);f+="\x26replace\x3d"+encodeURIComponent(e.replace);f+="\x26enableReplace\x3d"+encodeURIComponent(e.enableReplace);q.ajax({url:f,
success:function(d){for(var e=[],f=0;f<d.length;f++)e.push(d[f]);b(e,a)},async:!0})}else b([],a)}function C(a,d){a&&1<a.length?q.ajax({url:"/file/"+document.title+"?expression\x3d"+a,success:function(e){for(var b=[],c=0;c<e.length;c++)b.push(e[c]);d(b,a)},async:!0}):d([],a)}function x(a,d){var e=g.FileEditor.loadEditor();null==e.resource?k.DialogBuilder.openTreeDialog(null,!1,function(e){t(d);a()}):g.FileEditor.isEditorChanged()?k.DialogBuilder.openTreeDialog(e.resource,!0,function(e){t(d);a()}):
(n.ProcessConsole.clearConsole(),a())}function t(a){var d=g.FileEditor.loadEditor(),e=d.resource;if(null!=e){var b={project:document.title,resource:e.filePath,source:d.source,directory:!1,create:!1};n.ProcessConsole.clearConsole();c.EventBus.sendEvent("SAVE",b);a&&g.FileEditor.updateEditor(d.source,e.projectPath)}}function y(a){x(function(){var d=g.FileEditor.loadEditor();c.EventBus.sendEvent("EXECUTE",{breakpoints:d.breakpoints,project:document.title,resource:d.resource.filePath,source:d.source,
debug:a?!0:!1})},!0)}b.searchTypes=function(){k.DialogBuilder.createListDialog(function(a,d,e){p(a,function(a,d){for(var b=[],c=0;c<a.length;c++){var f=window.document.location.pathname,g=-1!==f.indexOf(";debug",f.length-6),h="/project/"+a[c].project,f="\x3ci style\x3d'opacity: 0.5'\x3e"+a[c].module+"\x3ci\x3e",k="",l=!1;a[c].extra&&(k="\x3ci style\x3d'opacity: 0.5'\x3e"+a[c].extra+"\x3ci\x3e");g&&(h+=";debug");a[c].extra&&u.Common.stringEndsWith(a[c].extra,".jar")?(g=u.Common.stringReplaceText(a[c].extra,
"\\","/"),h="/decompile/"+document.title+"/"+g+"/"+(a[c].module+"."+a[c].name)+".java",l=!0,console.log("Decompile: "+h)):h+="#"+a[c].resource;b.push([{text:a[c].name+"\x26nbsp;\x26nbsp;"+f,link:h,style:"module"==a[c].type?"moduleNode":"typeNode",decompile:l},{text:a[c].resource+"\x26nbsp;\x26nbsp;"+k,link:h,style:"resourceNode",decompile:l}])}e(b,d)})},null,"Search Types")};b.replaceTokenInFiles=function(a,d,b){w(a,b,d,function(a){for(var d=g.FileEditor.loadEditor(),b=0;b<a.length;b++){var e=a[b],
e=h.FileTree.createResourcePath("/resource/"+e.project+"/"+e.resource);d.resource.resourcePath==e.resourcePath&&A.FileExplorer.openTreeFile(e.resourcePath,function(){})}})};b.searchFiles=function(a){v(!1,a)};b.searchAndReplaceFiles=function(a){v(!0,a)};b.findFileNames=function(){k.DialogBuilder.createListDialog(function(a,d,b){C(a,function(a,d){for(var e=[],c=0;c<a.length;c++){var f=a[c],g=window.document.location.pathname,g=-1!==g.indexOf(";debug",g.length-6),h="/project/"+f.project;g&&(h+=";debug");
h+="#"+f.resource;e.push([{text:f.text,name:f.name,link:h,style:"resourceNode"}])}return b(e,d)})},null,"Find Files")};b.openTerminal=function(a){h.FileTree.isResourceFolder(a.filePath)&&c.EventBus.sendEvent("EXPLORE",{project:document.title,resource:a.filePath,terminal:!0})};b.exploreDirectory=function(a){h.FileTree.isResourceFolder(a.filePath)&&c.EventBus.sendEvent("EXPLORE",{project:document.title,resource:a.filePath,terminal:!1})};b.folderExpand=function(a){c.EventBus.sendEvent("FOLDER_EXPAND",
{project:document.title,folder:a})};b.folderCollapse=function(a){c.EventBus.sendEvent("FOLDER_COLLAPSE",{project:document.title,folder:a})};b.pingProcess=function(){c.EventBus.isSocketOpen()&&c.EventBus.sendEvent("PING",document.title)};b.uploadFileTo=function(a,d,b){d=h.FileTree.createResourcePath(d);d=h.FileTree.cleanResourcePath(d.filePath+"/"+a);console.log("source: "+a+" destination: "+d);c.EventBus.sendEvent("UPLOAD",{project:document.title,name:a,to:d,data:b,dragAndDrop:!0})};b.isDragAndDropFilePossible=
function(a,d){return!0};b.dragAndDropFile=function(a,d){var b=h.FileTree.createResourcePath(a.resource),f=h.FileTree.createResourcePath(d.resource),g=h.FileTree.cleanResourcePath(b.filePath),b=h.FileTree.cleanResourcePath(f.filePath+"/"+b.fileName);console.log("source: "+g+" destination: "+b);c.EventBus.sendEvent("RENAME",{project:document.title,from:g,to:b,dragAndDrop:!0});r.Project.renameEditorTab(g,b)};b.renameFile=function(a){var d=a.filePath;k.DialogBuilder.renameFileTreeDialog(a,!0,function(b){c.EventBus.sendEvent("RENAME",
{project:document.title,from:d,to:b.filePath,dragAndDrop:!1});r.Project.renameEditorTab(a.resourcePath,b.resourcePath)})};b.renameDirectory=function(a){var d=a.filePath;a=h.FileTree.createResourcePath(d+".#");k.DialogBuilder.renameDirectoryTreeDialog(a,!0,function(a){c.EventBus.sendEvent("RENAME",{project:document.title,from:d,to:a.filePath})})};b.newFile=function(a){k.DialogBuilder.newFileTreeDialog(a,!0,function(a){if(!h.FileTree.isResourceFolder(a.filePath)){var b={project:document.title,resource:a.filePath,
source:"",directory:!1,create:!0};n.ProcessConsole.clearConsole();c.EventBus.sendEvent("SAVE",b);g.FileEditor.updateEditor("",a.projectPath)}})};b.newDirectory=function(a){k.DialogBuilder.newDirectoryTreeDialog(a,!0,function(a){h.FileTree.isResourceFolder(a.filePath)&&(a={project:document.title,resource:a.filePath,source:"",directory:!0,create:!0},n.ProcessConsole.clearConsole(),c.EventBus.sendEvent("SAVE",a))})};b.saveFile=function(){x(function(){},!0)};b.saveEditor=t;b.saveEditorOnClose=function(a,
b){k.DialogBuilder.openTreeDialog(b,!0,function(d){c.EventBus.sendEvent("SAVE",{project:document.title,resource:b.filePath,source:a,directory:!1,create:!1});g.FileEditor.clearSavedEditorBuffer(b.resourcePath)},function(a){g.FileEditor.clearSavedEditorBuffer(b.resourcePath)})};b.deleteFile=function(a){var b=g.FileEditor.loadEditor();null==a&&null!=b.resource&&(a=b.resource);null!=a&&(b=g.FileEditor.loadEditor(),z.Alerts.createConfirmAlert("Delete File","Delete resource "+b.resource.filePath,"Delete",
"Cancel",function(){var d={project:document.title,resource:a.filePath};n.ProcessConsole.clearConsole();c.EventBus.sendEvent("DELETE",d);null!=b.resource&&b.resource.resourcePath==a.resourcePath&&g.FileEditor.resetEditor();r.Project.deleteEditorTab(a.resourcePath)},function(){}))};b.deleteDirectory=function(a){null!=a&&(a={project:document.title,resource:a.filePath},n.ProcessConsole.clearConsole(),c.EventBus.sendEvent("DELETE",a))};b.runScript=function(){y(!1)};b.debugScript=function(){y(!0)};b.updateScriptBreakpoints=
function(){var a={breakpoints:g.FileEditor.loadEditor().breakpoints,project:document.title};c.EventBus.sendEvent("BREAKPOINTS",a)};b.stepOverScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"STEP_OVER"},g.FileEditor.clearEditorHighlights(),c.EventBus.sendEvent("STEP",a))};b.stepInScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"STEP_IN"},g.FileEditor.clearEditorHighlights(),c.EventBus.sendEvent("STEP",a))};b.stepOutScript=
function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"STEP_OUT"},g.FileEditor.clearEditorHighlights(),c.EventBus.sendEvent("STEP",a))};b.resumeScript=function(){var a=l.ThreadManager.focusedThread();null!=a&&(a={thread:a.thread,type:"RUN"},g.FileEditor.clearEditorHighlights(),c.EventBus.sendEvent("STEP",a))};b.stopScript=function(){c.EventBus.sendEvent("STOP")};b.browseScriptVariables=function(a){var b=l.ThreadManager.focusedThread();null!=b&&c.EventBus.sendEvent("BROWSE",
{thread:b.thread,expand:a})};b.browseScriptEvaluation=function(a,b,e){var d=l.ThreadManager.focusedThread();null!=d&&c.EventBus.sendEvent("EVALUATE",{thread:d.thread,expression:b,expand:a,refresh:e})};b.attachProcess=function(a){var b=B.DebugManager.currentStatusFocus(),e=g.FileEditor.loadEditor();c.EventBus.sendEvent("ATTACH",{process:a,breakpoints:e.breakpoints,project:document.title,focus:b!=a})};b.switchLayout=function(){var a=window.document.location.pathname,b=window.document.location.hash;
-1!==a.indexOf(";debug",a.length-6)?(a=a.substring(0,a.length-6),document.location=a+b):document.location=a+";debug"+b};b.updateDisplay=function(a){c.EventBus.isSocketOpen()&&c.EventBus.sendEvent("DISPLAY_UPDATE",a)};b.evaluateExpression=function(){if(null!=l.ThreadManager.focusedThread()){var a=g.FileEditor.getSelectedText();k.DialogBuilder.evaluateExpressionDialog(a)}};b.refreshScreen=function(){setTimeout(function(){location.reload()},10)};b.switchProject=function(){document.location="/"}})(p.Command||
(p.Command={}))});
