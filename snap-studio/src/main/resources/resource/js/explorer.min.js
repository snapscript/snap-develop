define("require exports jquery common socket tree editor commands".split(" "),function(v,h,l,e,t,n,p,b){(function(m){function h(a,c,b){n.FileTree.createTree("/"+document.title,"explorer","explorerTree","/.",!1,u,function(a,c){c.node.isFolder()||k(c.node.tooltip,function(){})})}function k(a,c){var b=a.toLowerCase();q(b)?l.ajax({url:a,type:"get",dataType:"text",success:function(d,b,f){b=f.getResponseHeader("content-type");g(a,c,d,b,a)},error:function(d){header.getResponseHeader("content-type");g(a,
c,"// Could not find "+a,"text/plain",a)},async:!1}):l.ajax({url:a,type:"get",success:function(d,b,f){b=f.getResponseHeader("content-type");g(a,c,d,b,a)},error:function(b){g(a,c,"// Could not find "+a,"text/plain",a)},async:!1})}function g(a,c,b,d,g){var f;f=d&&e.Common.stringStartsWith(d,"image")?!0:!1;f?window.open(g,"_blank").focus():d&&("application/json"==d||"application/x-javascript"==d?0:e.Common.stringStartsWith(d,"application")||e.Common.stringStartsWith(d,"image")||!e.Common.stringStartsWith(d,
"text"))?window.location.href=g:(p.FileEditor.resolveEditorMode(a),p.FileEditor.updateEditor(b,a),console.log("OPEN: "+a));c()}function q(a){return e.Common.stringEndsWith(a,".json")||e.Common.stringEndsWith(a,".js")||e.Common.stringEndsWith(a,".xml")||e.Common.stringEndsWith(a,".project")||e.Common.stringEndsWith(a,".classpath")||e.Common.stringEndsWith(a,".index")}function u(a,c,g,d){"runScript"==c?k(a.resourcePath,function(){b.Command.runScript()}):"debugScript"==c?k(a.resourcePath,function(){b.Command.debugScript()}):
"newFile"==c?b.Command.newFile(a):"newDirectory"==c?b.Command.newDirectory(a):"exploreDirectory"==c?b.Command.exploreDirectory(a):"openTerminal"==c?b.Command.openTerminal(a):"renameFile"==c?d?b.Command.renameDirectory(a):b.Command.renameFile(a):"saveFile"==c?k(a.resourcePath,function(){b.Command.saveFile()}):"deleteFile"==c&&(n.FileTree.isResourceFolder(a.resourcePath)?b.Command.deleteDirectory(a):b.Command.deleteFile(a))}var r=!1;m.showTree=function(){0==r&&(window.setTimeout(h,500),r=!0);t.EventBus.createRoute("RELOAD_TREE",
h)};m.openTreeFile=k;m.openTreeHistoryFile=function(a,b,e){var c=a.toLowerCase(),h=a.replace(/^\/resource/i,"/history");if(q(c)){var f=h+"?time\x3d"+b;l.ajax({url:f,type:"get",dataType:"text",success:function(b,c,d){c=d.getResponseHeader("content-type");g(a,e,b,c,f)},error:function(b){g(a,e,"// Could not find "+a,"text/plain",f)},async:!1})}else f=h+"?time\x3d"+b,l.ajax({url:f,type:"get",success:function(b,c,d){c=d.getResponseHeader("content-type");g(a,e,b,c,f)},error:function(b){g(a,e,"// Could not find "+
a,"text/plain",f)},async:!1})}})(h.FileExplorer||(h.FileExplorer={}))});
