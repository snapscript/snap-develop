define("require exports jquery common socket tree editor commands".split(" "),function(w,k,m,g,u,p,q,d){(function(n){function k(a,b,e){p.FileTree.createTree("/"+document.title,"explorer","explorerTree","/.",!1,v,function(a,b){b.node.isFolder()||l(b.node.tooltip,function(){})})}function l(a,b){var e=a.toLowerCase();r(e)?m.ajax({url:a,type:"get",dataType:"text",success:function(c,e,f){e=f.getResponseHeader("content-type");h(a,b,c,e,a)},error:function(c){header.getResponseHeader("content-type");h(a,
b,"// Could not find "+e,"text/plain",a)},async:!1}):m.ajax({url:a,type:"get",success:function(c,e,f){e=f.getResponseHeader("content-type");h(a,b,c,e,a)},error:function(c){h(a,b,"// Could not find "+e,"text/plain",a)},async:!1})}function h(a,b,e,c,d){var f;f=c&&g.Common.stringStartsWith(c,"image")?!0:!1;f?window.open(d,"_blank").focus():c&&("application/json"==c||"application/x-javascript"==c?0:g.Common.stringStartsWith(c,"application")||g.Common.stringStartsWith(c,"image")||!g.Common.stringStartsWith(c,
"text"))?window.location.href=d:(q.FileEditor.resolveEditorMode(a),q.FileEditor.updateEditor(e,a));b()}function r(a){return g.Common.stringEndsWith(a,".json")||g.Common.stringEndsWith(a,".js")||g.Common.stringEndsWith(a,".xml")||g.Common.stringEndsWith(a,".project")||g.Common.stringEndsWith(a,".classpath")}function v(a,b,e,c){"runScript"==b?l(a.resourcePath,function(){d.Command.runScript()}):"debugScript"==b?l(a.resourcePath,function(){d.Command.debugScript()}):"newFile"==b?d.Command.newFile(a):"newDirectory"==
b?d.Command.newDirectory(a):"exploreDirectory"==b?d.Command.exploreDirectory(a):"openTerminal"==b?d.Command.openTerminal(a):"renameFile"==b?c?d.Command.renameDirectory(a):d.Command.renameFile(a):"saveFile"==b?l(a.resourcePath,function(){d.Command.saveFile()}):"deleteFile"==b&&(p.FileTree.isResourceFolder(a.resourcePath)?d.Command.deleteDirectory(a):d.Command.deleteFile(a))}var t=!1;n.showTree=function(){0==t&&(window.setTimeout(k,500),t=!0);u.EventBus.createRoute("RELOAD_TREE",k)};n.openTreeFile=
l;n.openTreeHistoryFile=function(a,b,e){var c=a.toLowerCase(),d=a.replace(/^\/resource/i,"/history");if(r(c)){var f=d+"?time\x3d"+b;m.ajax({url:f,type:"get",dataType:"text",success:function(b,c,d){c=d.getResponseHeader("content-type");h(a,e,b,c,f)},error:function(b){h(a,e,"// Could not find "+c,"text/plain",f)},async:!1})}else f=d+"?time\x3d"+b,m.ajax({url:f,type:"get",success:function(b,c,d){c=d.getResponseHeader("content-type");h(a,e,b,c,f)},error:function(b){h(a,e,"// Could not find "+c,"text/plain",
f)},async:!1})}})(k.FileExplorer||(k.FileExplorer={}))});
