define("require exports jquery common socket tree editor commands".split(" "),function(x,k,l,f,u,n,v,e){var p=function(){function b(b,f,e,g,h,l,k){this._resourcePath=b;this._contentType=f;this._lastModified=e;this._fileContent=g;this._downloadURL=h;this._isHistorical=l;this._isError=k}b.prototype.getFileContent=function(){if(this._fileContent){var b=this._resourcePath.getResourcePath().toLowerCase();if(f.Common.stringEndsWith(b,".json"))try{var e=JSON.parse(this._fileContent);return JSON.stringify(e,
null,3)}catch(m){}return this._fileContent}return""};b.prototype.getResourcePath=function(){return this._resourcePath};b.prototype.getContentType=function(){return this._contentType};b.prototype.getDownloadURL=function(){return this._downloadURL};b.prototype.getTimeStamp=function(){return f.Common.formatTimeMillis(this._lastModified)};b.prototype.getLastModified=function(){return this._lastModified};b.prototype.getFileLength=function(){return this._fileContent?this._fileContent.length:-1};b.prototype.isHistorical=
function(){return this._isHistorical};b.prototype.isError=function(){return this._isError};return b}();k.FileResource=p;(function(b){function k(a,d,c){q()}function q(){n.FileTree.createTree("/"+document.title,"explorer","explorerTree","/.",!1,w,function(a,d){d.node.isFolder()||m(d.node.tooltip,function(){})})}function m(a,d){var c=a.toLowerCase();r(c)?l.ajax({url:a,type:"get",dataType:"text",success:function(c,b,e){c=g(a,a,e,c,!1,!1);h(c,d)},error:function(c){c=g(a,a,null,c,!1,!0);h(c,d)},async:!1}):
l.ajax({url:a,type:"get",success:function(c,b,e){c=g(a,a,e,c,!1,!1);h(c,d)},error:function(c){c=g(a,a,null,c,!1,!0);h(c,d)},async:!1})}function g(a,d,c,b,e,f){var t=n.FileTree.createResourcePath(a),g=(new Date).getTime(),h="application/octet-stream";return c&&null!=b?(a=c.getResponseHeader("content-type"),(c=c.getResponseHeader("last-modified"))&&(g=(new Date(c)).getTime()),a&&(h=a),new p(t,h,g,b,d,e,f)):new p(t,h,g,"// Count not find "+a,d,e,f)}function h(a,d){var c;c=(c=a.getContentType())&&f.Common.stringStartsWith(c,
"image")?!0:!1;c?(c=a.getDownloadURL(),window.open(c,"_blank").focus()):(c=a.getContentType())&&("application/json"==c||"application/x-javascript"==c?0:f.Common.stringStartsWith(c,"application")||f.Common.stringStartsWith(c,"image")||!f.Common.stringStartsWith(c,"text"))?window.location.href=a.getDownloadURL():v.FileEditor.updateEditor(a);d()}function r(a){return f.Common.stringEndsWith(a,".json")||f.Common.stringEndsWith(a,".js")||f.Common.stringEndsWith(a,".xml")||f.Common.stringEndsWith(a,".project")||
f.Common.stringEndsWith(a,".classpath")||f.Common.stringEndsWith(a,".index")}function w(a,d,c,b){"runScript"==d?m(a.getResourcePath(),function(){e.Command.runScript()}):"debugScript"==d?m(a.getResourcePath(),function(){e.Command.debugScript()}):"newFile"==d?e.Command.newFile(a):"newDirectory"==d?e.Command.newDirectory(a):"exploreDirectory"==d?e.Command.exploreDirectory(a):"openTerminal"==d?e.Command.openTerminal(a):"renameFile"==d?b?e.Command.renameDirectory(a):e.Command.renameFile(a):"saveFile"==
d?m(a.getResourcePath(),function(){e.Command.saveFile()}):"deleteFile"==d&&(n.FileTree.isResourceFolder(a.getResourcePath())?e.Command.deleteDirectory(a):e.Command.deleteFile(a))}b.showTree=function(){q();u.EventBus.createRoute("RELOAD_TREE",k)};b.openTreeFile=m;b.openTreeHistoryFile=function(a,d,c){var b=a.toLowerCase(),e=a.replace(/^\/resource/i,"/history");if(r(b)){var f=e+"?time\x3d"+d;l.ajax({url:f,type:"get",dataType:"text",success:function(b,d,e){b=g(a,f,e,b,!0,!1);h(b,c)},error:function(b){b=
g(a,f,null,b,!0,!0);h(b,c)},async:!1})}else f=e+"?time\x3d"+d,l.ajax({url:f,type:"get",success:function(b,e,d){b=g(a,f,d,b,!0,!1);h(b,c)},error:function(b){b=g(a,f,null,b,!0,!0);h(b,c)},async:!1})}})(k.FileExplorer||(k.FileExplorer={}))});
